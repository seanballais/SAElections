"use strict";function getCookie(a){var b=null;if(document.cookie&&""!=document.cookie)for(var c=document.cookie.split(";"),d=0;d<c.length;d++){var e=c[d].trim();if(e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}function auth_check(a,b,c,d){var e={studentID:a,password:b,csrfmiddlewaretoken:getCookie("csrftoken")};$.post("/authenticate/",e,function(a){$(c).css("visibility","hidden"),""!=b&&("success"==a?($(c).css("visibility","hidden"),d.disabled=!1):($(c).css("visibility","visible"),d.disabled=!0))})}function pageInit(){var a=candidates[0].slice();a.push("voting-button"),$(a).each(function(a){$("#"+this.toString()).delay(1e3*a++ +500).fadeIn(1e3)})}function pageHovers(){$(".candid").hover(function(){$(this).animate({backgroundColor:"#fff",color:"#313131"},"fast")},function(){$(this).animate({backgroundColor:"transparent",color:"#fff"},"fast")}),$(candidates[0]).each(function(a){var b=this.toString(),c=b.getCandidateFirstName(candidates),d="#"+c;$(d).hover(function(){d.changeBackgroundPosition(candidates,a,b.getCandidateCheckBgPos(candidates),b.getCandidateCrossBgPos(candidates))},function(){d.changeBackgroundPosition(candidates,a,b.getCandidateInitBgPos(candidates),b.getCandidateCheckBgPos(candidates))})})}function pageClicks(){$(candidates[0]).each(function(a){var b=this.toString(),c=b.getCandidateFirstName(candidates),d="#"+c;$(d).click(function(){d.changeBackgroundPosition(candidates,a,b.getCandidateCheckBgPos(candidates),b.getCandidateInitBgPos(candidates),!0)})}),$("#finish-voting").click(function(){for(var a=window.location.protocol+"//"+window.location.host+"/save-votes/",b="",c=0;6>c;c++){var d=candidates[2][c];1==d&&(b+=candidates[0][c].toString()+",")}b=b.substring(0,b.length-1),window.location.replace(a+b+"/")})}if("undefined"==typeof jQuery)throw new Error("This web app requires jQuery.");if(String.prototype.getCandidateFirstName=function(a){return this.getCandidateInfo(a,1)},String.prototype.getCandidateInitBgPos=function(a){return this.getCandidateInfo(a,0,4)},String.prototype.getCandidateCheckBgPos=function(a){return this.getCandidateInfo(a,1,4)},String.prototype.getCandidateCrossBgPos=function(a){return this.getCandidateInfo(a,2,4)},String.prototype.getCandidateState=function(a,b,c){return this.getCandidateInfo(a,b)?c[1]:c[0]},String.prototype.getCandidateInfo=function(a,b,c){for(var d=c>-1?!0:!1,e=0;6>e;e++){var f=a[0][e];if(f==this.toString()&&!d)return a[b][e];if(f==this.toString()&&d)return a[c][b][e]}throw new Error("Surname ("+this.toString()+") not found.")},String.prototype.changeBackgroundPosition=function(a,b,c,d,e){var f=document.querySelector(this.toString()),g=e&&"undefined"!=e;a[2][b]?$(f).css("background-position",d):$(f).css("background-position",c),!a[2][b]&&g?a[2][b]=!0:a[2][b]&&g&&(a[2][b]=!1)},String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},$(document).ready(function(){var a=document.querySelector("#student-id"),b=document.querySelector("#password"),c=document.querySelector("#login-btn"),d=document.querySelector("#login-incorrect");document.querySelector("#login-form").reset(),c.disabled=!0,$(b).on("input",function(){auth_check(a.value,b.value,d,c)})}),"undefined"==typeof jQuery)throw new Error("This web app requires jQuery.");var candidates=[["castillejos","bismark","latorre","sevilla","limsiaco","ecaldre"],["johan","kobe","jeri","sophia","linette","ronel"],[!1,!1,!1,!1,!1,!1],[1,1,0,0,0,1],[["0 0","-130px 0","-260px 0","-390px 0","-520px 0","-650px 0"],["0 -128px","-130px -128px","-260px -128px","-390px -128px","-520px -128px","-650px -128px"],["0 -256px","-130px -256px","-260px -256px","-390px -256px","-520px -256px","-650px -256px"]]];$(document).ready(function(){pageInit(),pageHovers(),pageClicks(),pageKeyPresses()});